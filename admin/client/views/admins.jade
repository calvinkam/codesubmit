script(type="text/ng-template", id="views/admins")
	div(codesubmit-header)
	.container#admins-view
		.col-md-12.col-sm-12
			.panel.panel-default.shadowedBox
				.panel-body
					p
						h2 Admin List
						.text-danger(ng-if="adminListMsg.errorMessage") {{adminListMsg.errorMessage}}
						button.pull-right.btn.btn-default(type="button" ng-disabled="adminListMsg.refreshing" ng-click="listAdmins()")
							span.glyphicon.glyphicon-refresh
					table.table
						thead
							tr
								th.col-sm-2 Username
								th.col-sm-3 Email
								th.col-sm-3 Remarks
								th.col-sm-4 Actions
						tbody
							tr(ng-repeat="admin in admins")
								td {{admin.username}}
								td {{admin.email}}
								td {{admin.remarks}}
								td
									button.control-group.btn.btn-xs.btn-warning(type="button" ng-click="deactivate(admin)") Deactivate
									button.control-group.btn.btn-xs.btn-warning(type="button" ng-click="resetPassword(admin)") Reset Password
			.panel.panel-default.shadowedBox
				.panel-body
					p
						h2 Add New Admins
						.text-danger(ng-if="adminCreateMsg.errorMessage") {{adminCreateMsg.errorMessage}}
					table.table
						thead
							tr
								th.col-sm-2 Username
								th.col-sm-3 Email
								th.col-sm-3 Remarks
								th.col-sm-4 Actions
						tbody
							tr(ng-repeat="admin in newAdmins")
								td
									input.form-control(ng-if="!admin.status" type="text" ng-model="admin.username")
									p(ng-if="admin.status") {{admin.username}}
								td
									input.form-control(ng-if="!admin.status" type="text" ng-model="admin.email")
									p(ng-if="admin.status") {{admin.email}}
								td
									input.form-control(ng-if="!admin.status" type="text" ng-model="admin.remarks")
									p(ng-if="admin.status") {{admin.remarks}}
								td
									button.btn.btn-xs(type="button" ng-disabled="admin.status" ng-class="admin.status == 'Adding' ? 'btn-warning' : 'btn-success'" ng-click="createAdmin(admin)") {{admin.status || 'Add'}}
					p.text-right
						button.btn.btn-success(type="button" ng-click="addEmptyAdmin()") Add More
